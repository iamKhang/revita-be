{
  "info": {
    "_postman_id": "revita-full-api-collection",
    "name": "Revita Full API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Full API collection for Revita medical system, including login, Google OAuth, register, user, admin, patient, doctor, receptionist, medical-record, and app endpoints."
  },
  "values": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api",
			"type": "default",
			"enabled": true
		},
		{
			"key": "sessionId",
			"value": "",
			"type": "default",
			"enabled": true
		},
		{
			"key": "userId",
			"value": "",
			"type": "default",
			"enabled": true
		}
	],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login (username/password)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/login", "host": ["{{base_url}}"], "path": ["api", "auth", "login"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "description": "Đăng nhập bằng email/phone và mật khẩu."
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/refresh", "host": ["{{base_url}}"], "path": ["api", "auth", "refresh"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
            },
            "description": "Làm mới access token bằng refresh token."
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/me", "host": ["{{base_url}}"], "path": ["api", "auth", "me"] },
            "description": "Lấy thông tin người dùng hiện tại."
          }
        },
        {
          "name": "Google OAuth2: Start",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/api/auth/google", "host": ["{{base_url}}"], "path": ["api", "auth", "google"] },
            "description": "Bắt đầu xác thực Google OAuth2 (redirect, dùng trình duyệt)."
          }
        },
        {
          "name": "Google OAuth2: Callback",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/auth/google/callback?platform=web",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "google", "callback"],
              "query": [
                { "key": "platform", "value": "web" }
              ]
            },
            "description": "Xử lý callback Google OAuth2 (redirect, dùng trình duyệt)."
          }
        },
        {
          "name": "Google OAuth2: Exchange Code for Token",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/google/token", "host": ["{{base_url}}"], "path": ["api", "auth", "google", "token"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"{{google_code}}\"\n}"
            },
            "description": "Đổi authorization code lấy tokens (dùng cho mobile/app hoặc SPA)."
          }
        }
      ]
    },
    {
      "name": "Register",
      "item": [
        {
          "name": "Step 1: Register Phone/Email",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/register/step1", "host": ["{{base_url}}"], "path": ["api", "register", "step1"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"\",\n  \"email\": \"\"\n}"
            },
            "description": "Bước 1: Đăng ký với số điện thoại hoặc email."
          }
        },
        {
          "name": "Step 2: Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/register/verify-otp", "host": ["{{base_url}}"], "path": ["api", "register", "verify-otp"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"otp\": \"123456\",\n  \"sessionId\": \"session_123456789\"\n}"
            },
            "description": "Bước 2: Xác thực mã OTP."
          }
        },
        {
          "name": "Step 3: Complete Registration",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/register/complete", "host": ["{{base_url}}"], "path": ["api", "register", "complete"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"password\": \"password123\",\n  \"sessionId\": \"session_123456789\"\n}"
            },
            "description": "Bước 3: Hoàn tất đăng ký."
          }
        },
        {
          "name": "Resend OTP",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/register/resend-otp", "host": ["{{base_url}}"], "path": ["api", "register", "resend-otp"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sessionId\": \"session_123456789\"\n}"
            },
            "description": "Gửi lại mã OTP cho session đang hoạt động."
          }
        }
      ]
    },
    {
      "name": "User",
      "item": [
        {
          "name": "Update My Info",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/users/me", "host": ["{{base_url}}"], "path": ["api", "users", "me"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\"\n}"
            },
            "description": "Cập nhật thông tin cá nhân user."
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/users", "host": ["{{base_url}}"], "path": ["api", "admin", "users"] },
            "description": "Lấy danh sách user. Query: role (optional)"
          }
        },
        {
          "name": "Get User By Id",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/users/:userId", "host": ["{{base_url}}"], "path": ["api", "admin", "users", ":userId"] },
            "description": "Lấy user theo id."
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/users", "host": ["{{base_url}}"], "path": ["api", "admin", "users"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"password\": \"password123\",\n  \"email\": \"user@example.com\",\n  \"phone\": \"0123456789\",\n  \"role\": \"PATIENT\",\n  \"loyaltyPoints\": 0\n}"
            },
            "description": "Tạo user mới với role cụ thể."
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/users/:userId", "host": ["{{base_url}}"], "path": ["api", "admin", "users", ":userId"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A Updated\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"email\": \"user@example.com\",\n  \"phone\": \"0123456789\",\n  \"password\": \"newpassword123\"\n}"
            },
            "description": "Cập nhật user."
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/users/:userId", "host": ["{{base_url}}"], "path": ["api", "admin", "users", ":userId"] },
            "description": "Xóa user."
          }
        },
        {
          "name": "Get All Clinics",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/clinics", "host": ["{{base_url}}"], "path": ["api", "admin", "clinics"] },
            "description": "Lấy danh sách tất cả phòng khám."
          }
        },
        {
          "name": "Get Clinic By Id",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/clinics/:clinicId", "host": ["{{base_url}}"], "path": ["api", "admin", "clinics", ":clinicId"] },
            "description": "Lấy chi tiết phòng khám theo id."
          }
        },
        {
          "name": "Get All Specialties",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/specialties", "host": ["{{base_url}}"], "path": ["api", "admin", "specialties"] },
            "description": "Lấy danh sách tất cả chuyên khoa. Query: clinicId (optional)"
          }
        },
        {
          "name": "Get All Templates",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/templates", "host": ["{{base_url}}"], "path": ["api", "admin", "templates"] },
            "description": "Lấy danh sách tất cả template. Query: specialtyId (optional)"
          }
        },
        {
          "name": "Get All Services",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/admin/services", "host": ["{{base_url}}"], "path": ["api", "admin", "services"] },
            "description": "Lấy danh sách tất cả dịch vụ. Query: specialtyId (optional)"
          }
        }
      ]
    },
    {
      "name": "Patient",
      "item": [
        {
          "name": "Update My Patient Info",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/patients/me", "host": ["{{base_url}}"], "path": ["api", "patients", "me"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"loyaltyPoints\": 100\n}"
            },
            "description": "Cập nhật thông tin cá nhân bệnh nhân."
          }
        },
        {
          "name": "Get My Medical Records",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/patients/me/medical-records", "host": ["{{base_url}}"], "path": ["api", "patients", "me", "medical-records"] },
            "description": "Lấy danh sách bệnh án của bệnh nhân."
          }
        }
      ]
    },
    {
      "name": "Doctor",
      "item": [
        {
          "name": "Get Appointments",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/doctors/:doctorId/appointments", "host": ["{{base_url}}"], "path": ["api", "doctors", ":doctorId", "appointments"] },
            "description": "Lấy danh sách lịch hẹn của bác sĩ."
          }
        },
        {
          "name": "Get Medical Records",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/doctors/:doctorId/medical-records", "host": ["{{base_url}}"], "path": ["api", "doctors", ":doctorId", "medical-records"] },
            "description": "Lấy danh sách bệnh án của bác sĩ."
          }
        },
        {
          "name": "Create Medical Record",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/doctors/:doctorId/medical-records", "host": ["{{base_url}}"], "path": ["api", "doctors", ":doctorId", "medical-records"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientProfileId\": \"string\",\n  \"templateId\": \"string\",\n  \"content\": {\n    \"field1\": \"value\"\n  },\n  \"appointmentId\": \"string\"\n}"
            },
            "description": "Tạo bệnh án mới cho bác sĩ."
          }
        },
        {
          "name": "Update Medical Record",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/doctors/:doctorId/medical-records/:recordId", "host": ["{{base_url}}"], "path": ["api", "doctors", ":doctorId", "medical-records", ":recordId"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": {\n    \"field1\": \"new value\"\n  },\n  \"status\": \"IN_PROGRESS\"\n}"
            },
            "description": "Cập nhật bệnh án cho bác sĩ."
          }
        }
      ]
    },
    {
      "name": "Receptionist",
      "item": [
        {
          "name": "Register Patient",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/receptionists/patients", "host": ["{{base_url}}"], "path": ["api", "receptionists", "patients"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"phone\": \"0123456789\",\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "description": "Tạo bệnh nhân mới."
          }
        },
        {
          "name": "Update Patient",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/receptionists/patients/:patientId", "host": ["{{base_url}}"], "path": ["api", "receptionists", "patients", ":patientId"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguyễn Văn A Updated\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC, Quận 1, TP.HCM\",\n  \"citizenId\": \"123456789012\",\n  \"avatar\": \"https://example.com/avatar.jpg\",\n  \"phone\": \"0123456789\",\n  \"email\": \"user@example.com\",\n  \"loyaltyPoints\": 100\n}"
            },
            "description": "Cập nhật thông tin bệnh nhân."
          }
        },
        {
          "name": "Book Appointment",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/receptionists/appointments", "host": ["{{base_url}}"], "path": ["api", "receptionists", "appointments"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookerId\": \"string\",\n  \"patientProfileId\": \"string\",\n  \"clinicId\": \"string\",\n  \"specialtyId\": \"string\",\n  \"doctorId\": \"string\",\n  \"serviceId\": \"string\",\n  \"status\": \"CONFIRMED\",\n  \"date\": \"2024-01-15\",\n  \"startTime\": \"09:00\",\n  \"endTime\": \"10:00\"\n}"
            },
            "description": "Đặt lịch hẹn cho bệnh nhân."
          }
        },
        {
          "name": "List Patients by Clinic",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/receptionists/clinics/:clinicId/patients", "host": ["{{base_url}}"], "path": ["api", "receptionists", "clinics", ":clinicId", "patients"] },
            "description": "Lấy danh sách bệnh nhân theo clinic."
          }
        },
        {
          "name": "List Appointments by Clinic",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/receptionists/clinics/:clinicId/appointments", "host": ["{{base_url}}"], "path": ["api", "receptionists", "clinics", ":clinicId", "appointments"] },
            "description": "Lấy danh sách lịch hẹn theo clinic."
          }
        }
      ]
    },
    {
      "name": "Medical Record",
      "item": [
        {
          "name": "Create Medical Record",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records", "host": ["{{base_url}}"], "path": ["api", "medical-records"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientProfileId\": \"string\",\n  \"templateId\": \"string\",\n  \"doctorId\": \"string\",\n  \"status\": \"DRAFT\",\n  \"content\": {\n    \"field1\": \"value\"\n  }\n}"
            },
            "description": "Tạo hồ sơ bệnh án mới."
          }
        },
        {
          "name": "Get All Medical Records",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records", "host": ["{{base_url}}"], "path": ["api", "medical-records"] },
            "description": "Lấy tất cả hồ sơ bệnh án (theo quyền)."
          }
        },
        {
          "name": "Get Medical Record By Id",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/:id", "host": ["{{base_url}}"], "path": ["api", "medical-records", ":id"] },
            "description": "Lấy chi tiết một hồ sơ bệnh án."
          }
        },
        {
          "name": "Update Medical Record",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/:id", "host": ["{{base_url}}"], "path": ["api", "medical-records", ":id"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": {\n    \"field1\": \"new value\"\n  },\n  \"status\": \"IN_PROGRESS\"\n}"
            },
            "description": "Cập nhật hồ sơ bệnh án (chỉ bác sĩ tạo hoặc admin)."
          }
        },
        {
          "name": "Delete Medical Record",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/:id", "host": ["{{base_url}}"], "path": ["api", "medical-records", ":id"] },
            "description": "Xóa hồ sơ bệnh án (chỉ bác sĩ tạo hoặc admin)."
          }
        },
        {
          "name": "Get All Templates",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/templates", "host": ["{{base_url}}"], "path": ["api", "medical-records", "templates"] },
            "description": "Lấy danh sách template bệnh án."
          }
        },
        {
          "name": "Get Template By Id",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/templates/:templateId", "host": ["{{base_url}}"], "path": ["api", "medical-records", "templates", ":templateId"] },
            "description": "Lấy chi tiết template theo id."
          }
        },
        {
          "name": "Get Template By Medical Record",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{base_url}}/api/medical-records/:id/template", "host": ["{{base_url}}"], "path": ["api", "medical-records", ":id", "template"] },
            "description": "Lấy template của một hồ sơ bệnh án."
          }
        }
      ]
    },
    {
      "name": "App",
      "item": [
        {
          "name": "Hello",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/", "host": ["{{base_url}}"], "path": [""] },
            "description": "Lời chào từ server."
          }
        }
      ]
    }
  ]
} 