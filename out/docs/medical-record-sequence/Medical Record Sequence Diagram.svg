<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2322px" preserveAspectRatio="none" style="width:2176px;height:2322px;background:#FFFFFF;" version="1.1" viewBox="0 0 2176 2322" width="2176px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="699.5522" style="stroke:#000000;stroke-width:1.0;" width="2154" x="15" y="652.4023"/><rect fill="#FFFFFF" height="120.5659" style="stroke:none;stroke-width:1.0;" width="2154" x="15" y="1231.3887"/><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="51" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="303.5" x2="303.5" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="589.5" x2="589.5" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="883.5" x2="883.5" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="1200" x2="1200" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="1451" x2="1451" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="1693" x2="1693" y1="83.0146" y2="2240.1348"/><line style="stroke:#000000;stroke-width:1.0;" x1="1894" x2="1894" y1="83.0146" y2="2240.1348"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="25" y="80.0752">Doctor</text><ellipse cx="51" cy="14" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M51,22 L51,49 M38,30 L64,30 M51,49 L38,64 M51,49 L64,64 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="46" x="25" y="2253.21">Doctor</text><ellipse cx="51" cy="2265.1494" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M51,2273.1494 L51,2300.1494 M38,2281.1494 L64,2281.1494 M51,2300.1494 L38,2315.1494 M51,2300.1494 L64,2315.1494 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="63" x="269.5" y="80.0752">Frontend</text><path d="M283.5,38 L283.5,62 M283.5,50 L300.5,50 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="312.5" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="63" x="269.5" y="2253.21">Frontend</text><path d="M283.5,2260.1494 L283.5,2284.1494 M283.5,2272.1494 L300.5,2272.1494 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="312.5" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169" x="502.5" y="80.0752">MedicalRecordController</text><ellipse cx="590" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="586,38,592,33,590,38,592,43,586,38" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169" x="502.5" y="2253.21">MedicalRecordController</text><ellipse cx="590" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="586,2260.1494,592,2255.1494,590,2260.1494,592,2265.1494,586,2260.1494" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="151" x="805.5" y="80.0752">MedicalRecordService</text><ellipse cx="884" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="880,38,886,33,884,38,886,43,880,38" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="151" x="805.5" y="2253.21">MedicalRecordService</text><ellipse cx="884" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="880,2260.1494,886,2255.1494,884,2260.1494,886,2265.1494,880,2260.1494" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="100" x="1147" y="80.0752">MedicalRecord</text><ellipse cx="1200" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1188" x2="1212" y1="64" y2="64"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="100" x="1147" y="2253.21">MedicalRecord</text><ellipse cx="1200" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1188" x2="1212" y1="2286.1494" y2="2286.1494"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92" x="1402" y="80.0752">PatientProfile</text><ellipse cx="1451" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1439" x2="1463" y1="64" y2="64"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92" x="1402" y="2253.21">PatientProfile</text><ellipse cx="1451" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1439" x2="1463" y1="2286.1494" y2="2286.1494"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="1657" y="80.0752">Template</text><ellipse cx="1693" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1681" x2="1705" y1="64" y2="64"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="1657" y="2253.21">Template</text><ellipse cx="1693" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1681" x2="1705" y1="2286.1494" y2="2286.1494"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150" x="1816" y="80.0752">MedicalRecordHistory</text><ellipse cx="1894" cy="50" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1882" x2="1906" y1="64" y2="64"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150" x="1816" y="2253.21">MedicalRecordHistory</text><ellipse cx="1894" cy="2272.1494" fill="#FFFFFF" rx="12" ry="12" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1882" x2="1906" y1="2286.1494" y2="2286.1494"/><polygon fill="#000000" points="292,110.814,302,114.814,292,118.814,296,114.814" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="298" y1="114.814" y2="114.814"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92" x="58" y="110.0845">Select patient</text><polygon fill="#000000" points="578,140.6133,588,144.6133,578,148.6133,582,144.6133" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="304" x2="584" y1="144.6133" y2="144.6133"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210" x="311" y="139.8838">GET /medical-record/templates</text><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="632" y1="174.4126" y2="174.4126"/><line style="stroke:#000000;stroke-width:1.0;" x1="632" x2="632" y1="174.4126" y2="187.4126"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="632" y1="187.4126" y2="187.4126"/><polygon fill="#000000" points="601,183.4126,591,187.4126,601,191.4126,597,187.4126" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118" x="597" y="169.6831">validateRequest()</text><polygon fill="#000000" points="872,213.2119,882,217.2119,872,221.2119,876,217.2119" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="878" y1="217.2119" y2="217.2119"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="102" x="597" y="212.4824">getTemplates()</text><polygon fill="#000000" points="1681,243.0112,1691,247.0112,1681,251.0112,1685,247.0112" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1687" y1="247.0112" y2="247.0112"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123" x="891" y="242.2817">findAllTemplates()</text><line style="stroke:#000000;stroke-width:1.0;" x1="1693" x2="1735" y1="276.8105" y2="276.8105"/><line style="stroke:#000000;stroke-width:1.0;" x1="1735" x2="1735" y1="276.8105" y2="289.8105"/><line style="stroke:#000000;stroke-width:1.0;" x1="1694" x2="1735" y1="289.8105" y2="289.8105"/><polygon fill="#000000" points="1704,285.8105,1694,289.8105,1704,293.8105,1700,289.8105" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="187" x="1700" y="272.0811">prisma.template.findMany()</text><polygon fill="#000000" points="895,331.4092,885,335.4092,895,339.4092,891,335.4092" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1692" y1="335.4092" y2="335.4092"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="66" x="901" y="314.8804">templates</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="238" x="901" y="330.6797">(all available templates with fields)</text><polygon fill="#000000" points="601,377.0078,591,381.0078,601,385.0078,597,381.0078" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="883" y1="381.0078" y2="381.0078"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="607" y="360.479">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="230" x="607" y="376.2783">(templates list with specialty info)</text><polygon fill="#000000" points="315,422.6064,305,426.6064,315,430.6064,311,426.6064" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="589" y1="426.6064" y2="426.6064"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="321" y="406.0776">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119" x="321" y="421.877">(templates array)</text><polygon fill="#000000" points="62,452.4058,52,456.4058,62,460.4058,58,456.4058" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="303" y1="456.4058" y2="456.4058"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145" x="68" y="451.6763">Display templates list</text><polygon fill="#000000" points="292,482.2051,302,486.2051,292,490.2051,296,486.2051" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="298" y1="486.2051" y2="486.2051"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="229" x="58" y="481.4756">Select template and create record</text><polygon fill="#000000" points="578,515.0044,588,519.0044,578,523.0044,582,519.0044" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="304" x2="584" y1="519.0044" y2="519.0044"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="195" x="311" y="514.2749">POST /medical-record/create</text><path d="M595,499.2051 L595,524.2051 L779,524.2051 L779,509.2051 L769,499.2051 L595,499.2051 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M769,499.2051 L769,509.2051 L779,509.2051 L769,499.2051 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163" x="601" y="517.2749">CreateMedicalRecordDto</text><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="632" y1="551.8037" y2="551.8037"/><line style="stroke:#000000;stroke-width:1.0;" x1="632" x2="632" y1="551.8037" y2="564.8037"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="632" y1="564.8037" y2="564.8037"/><polygon fill="#000000" points="601,560.8037,591,564.8037,601,568.8037,597,564.8037" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="249" x="597" y="547.0742">validateCreateMedicalRecordDto(dto)</text><polygon fill="#000000" points="872,590.603,882,594.603,872,598.603,876,594.603" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="878" y1="594.603" y2="594.603"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="254" x="597" y="589.8735">create(createMedicalRecordDto, user)</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="624.4023" y2="624.4023"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="624.4023" y2="637.4023"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="637.4023" y2="637.4023"/><polygon fill="#000000" points="895,633.4023,885,637.4023,895,641.4023,891,637.4023" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="196" x="891" y="619.6729">checkCreatePermission(user)</text><path d="M15,652.4023 L79,652.4023 L79,660.2017 L69,670.2017 L15,670.2017 L15,652.4023 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="699.5522" style="stroke:#000000;stroke-width:1.0;" width="2154" x="15" y="652.4023"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="30" y="666.4722">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109" x="94" y="665.4614">[Has permission]</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="692.001" y2="692.001"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="692.001" y2="705.001"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="705.001" y2="705.001"/><polygon fill="#000000" points="895,701.001,885,705.001,895,709.001,891,705.001" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145" x="891" y="687.2715">extractDoctorId(user)</text><polygon fill="#000000" points="1439,730.8003,1449,734.8003,1439,738.8003,1443,734.8003" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1445" y1="734.8003" y2="734.8003"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="256" x="891" y="730.0708">validatePatientProfile(patientProfileId)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1451" x2="1493" y1="764.5996" y2="764.5996"/><line style="stroke:#000000;stroke-width:1.0;" x1="1493" x2="1493" y1="764.5996" y2="777.5996"/><line style="stroke:#000000;stroke-width:1.0;" x1="1452" x2="1493" y1="777.5996" y2="777.5996"/><polygon fill="#000000" points="1462,773.5996,1452,777.5996,1462,781.5996,1458,777.5996" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="228" x="1458" y="759.8701">prisma.patientProfile.findUnique()</text><polygon fill="#000000" points="895,819.1982,885,823.1982,895,827.1982,891,823.1982" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1450" y1="823.1982" y2="823.1982"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="89" x="901" y="802.6694">patientProfile</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155" x="901" y="818.4688">(patient profile details)</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="852.9976" y2="852.9976"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="852.9976" y2="865.9976"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="865.9976" y2="865.9976"/><polygon fill="#000000" points="895,861.9976,885,865.9976,895,869.9976,891,865.9976" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="200" x="891" y="848.2681">generateMedicalRecordCode()</text><polygon fill="#000000" points="1188,891.7969,1198,895.7969,1188,899.7969,1192,895.7969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1194" y1="895.7969" y2="895.7969"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179" x="891" y="891.0674">createMedicalRecord(data)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1200" x2="1242" y1="925.5962" y2="925.5962"/><line style="stroke:#000000;stroke-width:1.0;" x1="1242" x2="1242" y1="925.5962" y2="938.5962"/><line style="stroke:#000000;stroke-width:1.0;" x1="1201" x2="1242" y1="938.5962" y2="938.5962"/><polygon fill="#000000" points="1211,934.5962,1201,938.5962,1211,942.5962,1207,938.5962" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208" x="1207" y="920.8667">prisma.medicalRecord.create()</text><polygon fill="#000000" points="895,980.1948,885,984.1948,895,988.1948,891,984.1948" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1199" y1="984.1948" y2="984.1948"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98" x="901" y="963.666">medicalRecord</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="231" x="901" y="979.4653">(new medical record with content)</text><polygon fill="#000000" points="1882,1009.9941,1892,1013.9941,1882,1017.9941,1886,1013.9941" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1888" y1="1013.9941" y2="1013.9941"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="309" x="891" y="1009.2646">createHistoryRecord(medicalRecordId, action)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1894" x2="1936" y1="1043.7935" y2="1043.7935"/><line style="stroke:#000000;stroke-width:1.0;" x1="1936" x2="1936" y1="1043.7935" y2="1056.7935"/><line style="stroke:#000000;stroke-width:1.0;" x1="1895" x2="1936" y1="1056.7935" y2="1056.7935"/><polygon fill="#000000" points="1905,1052.7935,1895,1056.7935,1905,1060.7935,1901,1056.7935" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="256" x="1901" y="1039.064">prisma.medicalRecordHistory.create()</text><polygon fill="#000000" points="895,1098.3921,885,1102.3921,895,1106.3921,891,1102.3921" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1893" y1="1102.3921" y2="1102.3921"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="46" x="901" y="1081.8633">history</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="901" y="1097.6626">(history entry for audit trail)</text><polygon fill="#000000" points="601,1143.9907,591,1147.9907,601,1151.9907,597,1147.9907" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="883" y1="1147.9907" y2="1147.9907"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="607" y="1127.4619">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="270" x="607" y="1143.2612">(created medical record with all details)</text><polygon fill="#000000" points="315,1189.5894,305,1193.5894,315,1197.5894,311,1193.5894" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="589" y1="1193.5894" y2="1193.5894"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="321" y="1173.0605">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146" x="321" y="1188.8599">(medical record data)</text><polygon fill="#000000" points="62,1219.3887,52,1223.3887,62,1227.3887,58,1223.3887" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="303" y1="1223.3887" y2="1223.3887"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="169" x="68" y="1218.6592">Display success message</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="15" x2="2169" y1="1232.3887" y2="1232.3887"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103" x="20" y="1243.4478">[No permission]</text><polygon fill="#000000" points="601,1264.5566,591,1268.5566,601,1272.5566,597,1268.5566" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="883" y1="1268.5566" y2="1268.5566"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="184" x="607" y="1263.8271">throw ForbiddenException()</text><polygon fill="#000000" points="315,1310.1553,305,1314.1553,315,1318.1553,311,1314.1553" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="589" y1="1314.1553" y2="1314.1553"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="34" x="321" y="1293.6265">error</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="234" x="321" y="1309.4258">(insufficient permissions message)</text><polygon fill="#000000" points="62,1339.9546,52,1343.9546,62,1347.9546,58,1343.9546" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="303" y1="1343.9546" y2="1343.9546"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166" x="68" y="1339.2251">Display permission error</text><polygon fill="#000000" points="292,1376.7539,302,1380.7539,292,1384.7539,296,1380.7539" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="298" y1="1380.7539" y2="1380.7539"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144" x="58" y="1376.0244">View medical records</text><polygon fill="#000000" points="578,1406.5532,588,1410.5532,578,1414.5532,582,1410.5532" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="304" x2="584" y1="1410.5532" y2="1410.5532"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="262" x="311" y="1405.8237">GET /medical-record?page=1&amp;limit=10</text><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="632" y1="1440.3525" y2="1440.3525"/><line style="stroke:#000000;stroke-width:1.0;" x1="632" x2="632" y1="1440.3525" y2="1453.3525"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="632" y1="1453.3525" y2="1453.3525"/><polygon fill="#000000" points="601,1449.3525,591,1453.3525,601,1457.3525,597,1453.3525" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="256" x="597" y="1435.623">validatePaginationParams(page, limit)</text><polygon fill="#000000" points="872,1479.1519,882,1483.1519,872,1487.1519,876,1483.1519" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="878" y1="1483.1519" y2="1483.1519"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165" x="597" y="1478.4224">findAll(user, page, limit)</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="1512.9512" y2="1512.9512"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="1512.9512" y2="1525.9512"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="1525.9512" y2="1525.9512"/><polygon fill="#000000" points="895,1521.9512,885,1525.9512,895,1529.9512,891,1525.9512" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152" x="891" y="1508.2217">checkDoctorRole(user)</text><polygon fill="#000000" points="1188,1551.7505,1198,1555.7505,1188,1559.7505,1192,1555.7505" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1194" y1="1555.7505" y2="1555.7505"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="239" x="891" y="1551.021">findByDoctorId(user.id, page, limit)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1200" x2="1242" y1="1585.5498" y2="1585.5498"/><line style="stroke:#000000;stroke-width:1.0;" x1="1242" x2="1242" y1="1585.5498" y2="1598.5498"/><line style="stroke:#000000;stroke-width:1.0;" x1="1201" x2="1242" y1="1598.5498" y2="1598.5498"/><polygon fill="#000000" points="1211,1594.5498,1201,1598.5498,1211,1602.5498,1207,1598.5498" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="226" x="1207" y="1580.8203">prisma.medicalRecord.findMany()</text><polygon fill="#000000" points="895,1640.1484,885,1644.1484,895,1648.1484,891,1644.1484" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1199" y1="1644.1484" y2="1644.1484"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="105" x="901" y="1623.6196">medicalRecords</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176" x="901" y="1639.4189">(doctor's medical records)</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="1673.9478" y2="1673.9478"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="1673.9478" y2="1686.9478"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="1686.9478" y2="1686.9478"/><polygon fill="#000000" points="895,1682.9478,885,1686.9478,895,1690.9478,891,1686.9478" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="300" x="891" y="1669.2183">formatPaginationResponse(data, page, limit)</text><polygon fill="#000000" points="601,1728.5464,591,1732.5464,601,1736.5464,597,1732.5464" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="883" y1="1732.5464" y2="1732.5464"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="607" y="1712.0176">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="241" x="607" y="1727.8169">(paginated records with total count)</text><polygon fill="#000000" points="315,1774.145,305,1778.145,315,1782.145,311,1778.145" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="589" y1="1778.145" y2="1778.145"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="321" y="1757.6162">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="226" x="321" y="1773.4155">(medical records with pagination)</text><polygon fill="#000000" points="62,1803.9443,52,1807.9443,62,1811.9443,58,1807.9443" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="303" y1="1807.9443" y2="1807.9443"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186" x="68" y="1803.2148">Display medical records list</text><polygon fill="#000000" points="292,1833.7437,302,1837.7437,292,1841.7437,296,1837.7437" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="298" y1="1837.7437" y2="1837.7437"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="58" y="1833.0142">Select record to view details</text><polygon fill="#000000" points="578,1863.543,588,1867.543,578,1871.543,582,1867.543" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="304" x2="584" y1="1867.543" y2="1867.543"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="162" x="311" y="1862.8135">GET /medical-record/:id</text><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="632" y1="1897.3423" y2="1897.3423"/><line style="stroke:#000000;stroke-width:1.0;" x1="632" x2="632" y1="1897.3423" y2="1910.3423"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="632" y1="1910.3423" y2="1910.3423"/><polygon fill="#000000" points="601,1906.3423,591,1910.3423,601,1914.3423,597,1910.3423" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="90" x="597" y="1892.6128">validateId(id)</text><polygon fill="#000000" points="872,1936.1416,882,1940.1416,872,1944.1416,876,1940.1416" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="590" x2="878" y1="1940.1416" y2="1940.1416"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114" x="597" y="1935.4121">findOne(id, user)</text><polygon fill="#000000" points="1188,1965.9409,1198,1969.9409,1188,1973.9409,1192,1969.9409" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="1194" y1="1969.9409" y2="1969.9409"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79" x="891" y="1965.2114">findById(id)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1200" x2="1242" y1="1999.7402" y2="1999.7402"/><line style="stroke:#000000;stroke-width:1.0;" x1="1242" x2="1242" y1="1999.7402" y2="2012.7402"/><line style="stroke:#000000;stroke-width:1.0;" x1="1201" x2="1242" y1="2012.7402" y2="2012.7402"/><polygon fill="#000000" points="1211,2008.7402,1201,2012.7402,1211,2016.7402,1207,2012.7402" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="237" x="1207" y="1995.0107">prisma.medicalRecord.findUnique()</text><polygon fill="#000000" points="895,2054.3389,885,2058.3389,895,2062.3389,891,2058.3389" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889" x2="1199" y1="2058.3389" y2="2058.3389"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98" x="901" y="2037.8101">medicalRecord</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="292" x="901" y="2053.6094">(medical record with template and content)</text><line style="stroke:#000000;stroke-width:1.0;" x1="884" x2="926" y1="2088.1382" y2="2088.1382"/><line style="stroke:#000000;stroke-width:1.0;" x1="926" x2="926" y1="2088.1382" y2="2101.1382"/><line style="stroke:#000000;stroke-width:1.0;" x1="885" x2="926" y1="2101.1382" y2="2101.1382"/><polygon fill="#000000" points="895,2097.1382,885,2101.1382,895,2105.1382,891,2101.1382" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="292" x="891" y="2083.4087">checkViewPermission(medicalRecord, user)</text><polygon fill="#000000" points="601,2142.7368,591,2146.7368,601,2150.7368,597,2146.7368" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="595" x2="883" y1="2146.7368" y2="2146.7368"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="607" y="2126.208">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="245" x="607" y="2142.0073">(medical record details with history)</text><polygon fill="#000000" points="315,2188.3354,305,2192.3354,315,2196.3354,311,2192.3354" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="309" x2="589" y1="2192.3354" y2="2192.3354"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60" x="321" y="2171.8066">response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178" x="321" y="2187.606">(complete medical record)</text><polygon fill="#000000" points="62,2218.1348,52,2222.1348,62,2226.1348,58,2222.1348" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56" x2="303" y1="2222.1348" y2="2222.1348"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="203" x="68" y="2217.4053">Display medical record details</text><!--SRC=[ZLPDSzis4BtpLw0-fCoCxIHNpIITLB8Y7zHmQ2MdN61Y9M4A0Wm0sT6_xu8BVa2atLni2VlsxSD-GN_u8zJ06iMbpdZbZMLNAnF-Np7ks2fxD2Sjk3spgxKrseCMhM6TLVZD6iMkjY1anLK9bR5YIQSAo7_v0km1x9EieCLiCz1U-lC5X6nbRooub_Yvi6Ol5NaMHM_TGOrty7I-csVSI8VtEaVYJPPbAtRpYQqNx04KL9ur529RX-FbWdsvsx5tDL7Ss9RZdO-1NBQCg2UkfC2J4dwUmFdyBLcs2tO0t-boUBmDnxi5sqijFYirDksYgR7IrVos2t8Re5kkpmGXrbx13vrpfHX_ubBnHmM3XJrBVyGue8Hhuv9I2wunsW4w3b25MI6yQw2IN67UfDwRzXgKdba_RYq_lmsvGj1gmLRIeUNCKkP9ZZipurgmoaBuIAdjqrvyVPZcdQ2PDW4l3qU_OClsA2dnofj9NUPXkV1cg1InvzKiz9gT7DXOlm0-GlKliHPWQ-cSD3edJ8RvOnjiiAQtP8nrdl3BMnmo6h1x4NsYlIW6pMcpvqtozLu4dwBed6BJfA2sTRvfYJsPTt0IaUAmfl40UTeJ9i1ZHxdWDT9-00tsCZjB8uYUK6MNoGIKuuru2oexL9HSZs6tiGWTai8c41IhuRaxYtr3pLkroyadeijDfoUEVjIJSDwBQuOrmK9Hu4tlEYSo4gLQDvtO8rbHPlp4K1B-tUDQvISXiVqjfdOGEPbBuXMpLmp3FghDt7XUk7M9dmofErKLE8TXdEC727f0EM3_c4dZaaH_jEQPhOrzb4A0lljLGHDobYTAm5fZKORKxhJVouhQgYViuyrg6d34WqjSZ7RqTpcfl7jjK__LOA2F7zueMKl_ySFxoLue-45g7YvHSCjhbmU7QzRYXyqGbtKxgjSiWIJxW6QwD3YjusrH4iFVvsJcRwMuv7fzD4Rlm0kZ4Lu3qSRuqrscQP2AZLXpFzoyZAtJZkZqUfFsRCWJ6pHIKsTwup5QXJyL_FopSI68l9fUnimpSkan-vZ4DlU6FONkYCFnwlkza6BI2LWLATAIVzMGXoBDrZBYVwDc_G9-UQ7DJNhwI7QRBUctC0wZroTX7ScULF1oGr3AA6nSMlCbh0ng0jIKClnlwVgg_0S0]--></g></svg>